import{d as v,r as p,u as V,a as y,c as x,b as o,w as t,e as k,f as a,o as C,g as N,h as S,_ as B}from"./index-b752bdec.js";const L={class:"login-page"},R=v({__name:"LoginView",setup(U){const l=p(),_=k(),d=V(),r=p(!1),s=y({username:"",password:""}),c={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},f=async()=>{l.value&&await l.value.validate(async i=>{if(i)try{r.value=!0,await d.login(s),_.push({name:d.role==="ADMIN"?"admin":"user"})}finally{r.value=!1}})};return(i,e)=>{const m=a("el-input"),n=a("el-form-item"),g=a("el-button"),w=a("el-form"),b=a("el-card");return C(),x("div",L,[o(b,{class:"login-card"},{default:t(()=>[e[3]||(e[3]=N("h2",null,"系统登录",-1)),o(w,{model:s,rules:c,ref_key:"formRef",ref:l,"label-position":"top"},{default:t(()=>[o(n,{label:"用户名",prop:"username"},{default:t(()=>[o(m,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=u=>s.username=u),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),o(n,{label:"密码",prop:"password"},{default:t(()=>[o(m,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=u=>s.password=u),type:"password",placeholder:"请输入密码","show-password":""},null,8,["modelValue"])]),_:1}),o(n,null,{default:t(()=>[o(g,{type:"primary",loading:r.value,class:"w-full",onClick:f},{default:t(()=>[...e[2]||(e[2]=[S("登录",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])}}});const I=B(R,[["__scopeId","data-v-b0fc7eb8"]]);export{I as default};
